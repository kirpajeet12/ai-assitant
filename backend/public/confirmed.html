<!DOCTYPE html>
<html>
<head>
  <title>Confirmed Orders – Pizza 64</title>
  <style>
    body { font-family: Arial; background:#f7f7f7; padding:20px }
    .ticket {
      background:#fff;
      padding:15px;
      margin-bottom:12px;
      border-radius:8px;
      box-shadow:0 2px 5px rgba(0,0,0,.1)
    }
    h3 { margin:0 0 6px }
  </style>
</head>
<body>

<h2>✅ Confirmed Orders</h2>
<div id="tickets"></div>

<script>
async function loadTickets() {
  const res = await fetch("/api/tickets");
  const tickets = await res.json();

  const el = document.getElementById("tickets");
  el.innerHTML = "";

  tickets.forEach(t => {
    const div = document.createElement("div");
    div.className = "ticket";
    div.innerHTML = `
      <h3>Ticket #${t.ticketNo}</h3>
      <strong>${t.order.name}</strong> (${t.order.phone})<br>
      ${t.order.items.map(i =>
        `${i.size} ${i.name} – ${i.spice}`
      ).join("<br>")}
      <br><em>${t.order.orderType.toUpperCase()}</em>
      <br><small>${t.time}</small>
    `;
    el.appendChild(div);
  });
}

loadTickets();
setInterval(loadTickets, 5000);
</script>

</body>
</html>
